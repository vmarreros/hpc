{% load application___security %}
{% load i18n %}

{% if request|required_security_user %}
    <div id="leftside___user">
        <div id="user___img">
            <img src="{{ request|get_string_security_user_avatar_url }}" class="img-circle"/>
        </div>
        <div id="user___text">
            <h4 id="text___welcome">{% trans "LEFTSIDE___WELCOME" %},</h4>

            <p id="text___name">{{ request|get_instance_security_user }}</p>
        </div>
    </div>

    <ul id="leftside___nav" class="nav">
        {% if request|security_user_has_permission:"application_security_localuserrequestuser_list" or request|security_user_has_permission:"application_security_localuser_list" or request|security_user_has_permission:"application_security_ldapuserrequestuser_list" or request|security_user_has_permission:"application_security_ldapuser_list" or request|security_user_has_permission:"application_security_ldapuserimported_list" or request|security_user_has_permission:"application_security_group_list" or request|security_user_has_permission:"application_security_permission_list" %}
            <li>
                <a href=""><span class="fa fa-user-secret fa-fw"></span> {% trans "ADMINISTRATION___LEFTSIDE___SECURITY" %}<span class="fa arrow"></span></a>
                <ul class="nav nav___second_level">
                    {% if request|security_user_has_permission:"application_security_localuserrequestuser_list" or request|security_user_has_permission:"application_security_localuser_list" %}
                        <li>
                            <a href=""><span class="fa fa-users fa-fw"></span> {% trans "ADMINISTRATION___LEFTSIDE___SECURITY___LOCAL" %}<span class="fa arrow"></span></a>
                            <ul class="nav nav___third_level">
                                {% if request|security_user_has_permission:"application_security_localuserrequest_list" %}
                                    <li>
                                        {% url "administration:modules:administration_security:localuserrequest:index" as url %}
                                        <a data-url="{{ url }}" class="LINK___content___center___reload {% if url == request|get_string_security_user_url_current %}active{% endif %}"><span class="fa fa-list-ol fa-fw"></span> {% trans "ADMINISTRATION___LEFTSIDE___SECURITY___LOCALUSERREQUESTS" %}</a>
                                    </li>
                                {% endif %}
                                {% if request|security_user_has_permission:"application_security_localuser_list" %}
                                    <li>
                                        {% url "administration:modules:administration_security:localuser:index" as url %}
                                        <a data-url="{{ url }}" class="LINK___content___center___reload {% if url == request|get_string_security_user_url_current %}active{% endif %}"><span class="fa fa-list-ol fa-fw"></span> {% trans "ADMINISTRATION___LEFTSIDE___SECURITY___LOCALUSERS" %}</a>
                                    </li>
                                {% endif %}
                            </ul>
                        </li>
                    {% endif %}
                    {% if request|security_user_has_permission:"application_security_ldapuserrequestuser_list" or request|security_user_has_permission:"application_security_ldapuser_list" or request|security_user_has_permission:"application_security_ldapuserimported_list" %}
                        <li>
                            <a href=""><span class="fa fa-users fa-fw"></span> {% trans "ADMINISTRATION___LEFTSIDE___SECURITY___LDAP" %}<span class="fa arrow"></span></a>
                            <ul class="nav nav___third_level">
                                {% if request|security_user_has_permission:"application_security_ldapuserrequest_list" %}
                                    <li>
                                        {% url "administration:modules:administration_security:ldapuserrequest:index" as url %}
                                        <a data-url="{{ url }}" class="LINK___content___center___reload {% if url == request|get_string_security_user_url_current %}active{% endif %}"><span class="fa fa-list-ol fa-fw"></span> {% trans "ADMINISTRATION___LEFTSIDE___SECURITY___LDAPUSERREQUESTS" %}</a>
                                    </li>
                                {% endif %}
                                {% if request|security_user_has_permission:"application_security_ldapuser_list" %}
                                    <li>
                                        {% url "administration:modules:administration_security:ldapuser:index" as url %}
                                        <a data-url="{{ url }}" class="LINK___content___center___reload {% if url == request|get_string_security_user_url_current %}active{% endif %}"><span class="fa fa-list-ol fa-fw"></span> {% trans "ADMINISTRATION___LEFTSIDE___SECURITY___LDAPUSERS" %}</a>
                                    </li>
                                {% endif %}
                                {% if request|security_user_has_permission:"application_security_ldapuserimported_list" %}
                                    <li>
                                        {% url "administration:modules:administration_security:ldapuserimported:index" as url %}
                                        <a data-url="{{ url }}" class="LINK___content___center___reload {% if url == request|get_string_security_user_url_current %}active{% endif %}"><span class="fa fa-list-ol fa-fw"></span> {% trans "ADMINISTRATION___LEFTSIDE___SECURITY___LDAPUSERIMPORTEDS" %}</a>
                                    </li>
                                {% endif %}
                            </ul>
                        </li>
                    {% endif %}
                    {% if request|security_user_has_permission:"application_security_group_list" %}
                        <li>
                            {% url "administration:modules:administration_security:group:index" as url %}
                            <a data-url="{{ url }}" class="LINK___content___center___reload {% if url == request|get_string_security_user_url_current %}active{% endif %}"><span class="fa fa-list-ol fa-fw"></span> {% trans "ADMINISTRATION___LEFTSIDE___SECURITY___GROUPS" %}</a>
                        </li>
                    {% endif %}
                    {% if request|security_user_has_permission:"application_security_permission_list" %}
                        <li>
                            {% url "administration:modules:administration_security:permission:index" as url %}
                            <a data-url="{{ url }}" class="LINK___content___center___reload {% if url == request|get_string_security_user_url_current %}active{% endif %}"><span class="fa fa-list-ol fa-fw"></span> {% trans "ADMINISTRATION___LEFTSIDE___SECURITY___PERMISSIONS" %}</a>
                        </li>
                    {% endif %}
                </ul>
            </li>
        {% endif %}
        {% if request|security_user_has_permission:"application_hpc_softwareinstalled_list" or request|security_user_has_permission:"application_hpc_softwarerequested_list" %}
            <li>
                <a href=""><span class="fa fa-archive fa-fw" aria-hidden="true"></span> {% trans "ADMINISTRATION___LEFTSIDE___SOFTWARE" %}<span class="fa arrow" aria-hidden="true"></span></a>
                <ul class="nav nav___second_level">
                    {% if request|security_user_has_permission:"application_hpc_softwareinstalled_list" %}
                        <li>
                            {% url "administration:modules:administration_software:installed:index" as url %}
                            <a data-url="{{ url }}" class="LINK___content___center___reload {% if url == request|get_string_security_user_url_current %}active{% endif %}"><span class="fa fa-list-ol fa-fw" aria-hidden="true"></span> {% trans "ADMINISTRATION___LEFTSIDE___SOFTWARE___INSTALLED" %}</a>
                        </li>
                    {% endif %}
                    {% if request|security_user_has_permission:"application_hpc_softwarerequested_list" %}
                        <li>
                            {% url "administration:modules:administration_software:requested:index" as url %}
                            <a data-url="{{ url }}" class="LINK___content___center___reload {% if url == request|get_string_security_user_url_current %}active{% endif %}"><span class="fa fa-list-ol fa-fw" aria-hidden="true"></span> {% trans "ADMINISTRATION___LEFTSIDE___SOFTWARE___REQUESTED" %}</a>
                        </li>
                    {% endif %}
                </ul>
            </li>
        {% endif %}
        {% if request|security_user_has_permission:"application_help_document_list" %}
            <li>
                <a href=""><span class="fa fa-book fa-fw" aria-hidden="true"></span> {% trans "ADMINISTRATION___LEFTSIDE___HELP" %}<span class="fa arrow" aria-hidden="true"></span></a>
                <ul class="nav nav___second_level">
                    {% if request|security_user_has_permission:"application_help_document_list" %}
                        <li>
                            {% url "administration:modules:administration_help:document:index" as url %}
                            <a data-url="{{ url }}" class="LINK___content___center___reload {% if url == request|get_string_security_user_url_current %}active{% endif %}"><span class="fa fa-list-ol fa-fw" aria-hidden="true"></span> {% trans "ADMINISTRATION___LEFTSIDE___HELP___DOCUMENTS" %}</a>
                        </li>
                    {% endif %}
                </ul>
            </li>
        {% endif %}
        {% if request|security_user_has_permission:"application_alerts_notification_list" %}
            <li>
                <a href=""><span class="fa fa-exclamation-circle fa-fw" aria-hidden="true"></span> {% trans "Notificaciones" %}<span class="fa arrow" aria-hidden="true"></span></a>
                <ul class="nav nav___second_level">
                    {% if request|security_user_has_permission:"application_alerts_notification_list" %}
                        <li>
                            {% url "administration:modules:administration_notifications:alerts:index" as url %}
                            <a data-url="{{ url }}" class="LINK___content___center___reload {% if url == request|get_string_security_user_url_current %}active{% endif %}"><span class="fa fa-list-ol fa-fw" aria-hidden="true"></span> {% trans "Alertas" %}</a>
                        </li>
                    {% endif %}
                </ul>
            </li>
        {% endif %}
    </ul>
{% endif %}